(()=>{var e={};e.id=427,e.ids=[427],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},92191:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(53411),r(27214),r(90996);var a=r(30170),i=r(45002),n=r(83876),s=r.n(n),l=r(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53411)),"P:\\caprilandia-web\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,27214)),"P:\\caprilandia-web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],d=["P:\\caprilandia-web\\app\\admin\\dashboard\\page.tsx"],u="/admin/dashboard/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56727:(e,t,r)=>{Promise.resolve().then(r.bind(r,27507))},27507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ag});var a=r(97247),i=r(28964),n=r(34178),s=r(58053),l=r(27757),o=r(70170),c=r(25008);let d=i.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));d.displayName="Textarea";var u=r(44538),m=r(70319),h=r(20732),p=r(63714),f=r(93191),x=r(27015),g=r(22251),v=r(85090),b=r(28469),y=i.createContext(void 0);function j(e){let t=i.useContext(y);return e||t||"ltr"}var w="rovingFocusGroup.onEntryFocus",N={bubbles:!1,cancelable:!0},C="RovingFocusGroup",[k,S,R]=(0,p.B)(C),[E,I]=(0,h.b)(C,[R]),[T,P]=E(C),A=i.forwardRef((e,t)=>(0,a.jsx)(k.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(k.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,a.jsx)(M,{...e,ref:t})})}));A.displayName=C;var M=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=e,x=i.useRef(null),y=(0,f.e)(t,x),C=j(l),[k=null,R]=(0,b.T)({prop:o,defaultProp:c,onChange:d}),[E,I]=i.useState(!1),P=(0,v.W)(u),A=S(r),M=i.useRef(!1),[F,D]=i.useState(0);return i.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(w,P),()=>e.removeEventListener(w,P)},[P]),(0,a.jsx)(T,{scope:r,orientation:n,dir:C,loop:s,currentTabStopId:k,onItemFocus:i.useCallback(e=>R(e),[R]),onItemShiftTab:i.useCallback(()=>I(!0),[]),onFocusableItemAdd:i.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:i.useCallback(()=>D(e=>e-1),[]),children:(0,a.jsx)(g.WV.div,{tabIndex:E||0===F?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:(0,m.M)(e.onMouseDown,()=>{M.current=!0}),onFocus:(0,m.M)(e.onFocus,e=>{let t=!M.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(w,N);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);z([e.find(e=>e.active),e.find(e=>e.id===k),...e].filter(Boolean).map(e=>e.ref.current),h)}}M.current=!1}),onBlur:(0,m.M)(e.onBlur,()=>I(!1))})})}),F="RovingFocusGroupItem",D=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:l,...o}=e,c=(0,x.M)(),d=l||c,u=P(F,r),h=u.currentTabStopId===d,p=S(r),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return i.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),(0,a.jsx)(k.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:(0,a.jsx)(g.WV.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:(0,m.M)(e.onMouseDown,e=>{n?u.onItemFocus(d):e.preventDefault()}),onFocus:(0,m.M)(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:(0,m.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){u.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let i=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return L[i]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=u.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>z(r))}})})})});D.displayName=F;var L={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var _=r(67264),V="Tabs",[O,H]=(0,h.b)(V,[I]),W=I(),[$,B]=O(V),q=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,onValueChange:n,defaultValue:s,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=j(o),[m,h]=(0,b.T)({prop:i,onChange:n,defaultProp:s});return(0,a.jsx)($,{scope:r,baseId:(0,x.M)(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:(0,a.jsx)(g.WV.div,{dir:u,"data-orientation":l,...d,ref:t})})});q.displayName=V;var Z="TabsList",U=i.forwardRef((e,t)=>{let{__scopeTabs:r,loop:i=!0,...n}=e,s=B(Z,r),l=W(r);return(0,a.jsx)(A,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:i,children:(0,a.jsx)(g.WV.div,{role:"tablist","aria-orientation":s.orientation,...n,ref:t})})});U.displayName=Z;var G="TabsTrigger",K=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,disabled:n=!1,...s}=e,l=B(G,r),o=W(r),c=J(l.baseId,i),d=Q(l.baseId,i),u=i===l.value;return(0,a.jsx)(D,{asChild:!0,...o,focusable:!n,active:u,children:(0,a.jsx)(g.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...s,ref:t,onMouseDown:(0,m.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(i)}),onKeyDown:(0,m.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(i)}),onFocus:(0,m.M)(e.onFocus,()=>{let e="manual"!==l.activationMode;u||n||!e||l.onValueChange(i)})})})});K.displayName=G;var Y="TabsContent",X=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:s,children:l,...o}=e,c=B(Y,r),d=J(c.baseId,n),u=Q(c.baseId,n),m=n===c.value,h=i.useRef(m);return i.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(_.z,{present:s||m,children:({present:r})=>(0,a.jsx)(g.WV.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&l})})});function J(e,t){return`${e}-trigger-${t}`}function Q(e,t){return`${e}-content-${t}`}X.displayName=Y;let ee=i.forwardRef(({className:e,...t},r)=>a.jsx(U,{ref:r,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ee.displayName=U.displayName;let et=i.forwardRef(({className:e,...t},r)=>a.jsx(K,{ref:r,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));et.displayName=K.displayName;let er=i.forwardRef(({className:e,...t},r)=>a.jsx(X,{ref:r,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));er.displayName=X.displayName;var ea=r(88964),ei=r(2502),en=r(97792),es=r(26323);let el=(0,es.Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eo=(0,es.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ec=(0,es.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ed=(0,es.Z)("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),eu=(0,es.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),em=(0,es.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),eh=(0,es.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ep=(0,es.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ef=(0,es.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var ex=r(74974),eg=r(10906),ev=r(66559),eb=r(51459),ey=r(44597),ej=r(37013);let ew=(0,es.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),eN=(0,es.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var eC=r(53871);function ek({currentImage:e,onImageChange:t,label:r="Imagen",aspectRatio:n="landscape",maxSize:l=5}){let[o,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),h=(0,i.useRef)(null),p=async e=>{if(e){if(!e.type.startsWith("image/")){alert("Por favor selecciona solo archivos de imagen");return}if(e.size>1048576*l){alert(`El archivo es muy grande. M\xe1ximo ${l}MB`);return}c(!0);try{let r=await eC.m.uploadFile(e,"images");t(r.url)}catch(e){console.error("❌ Error subiendo imagen:",e),alert(`Error al subir la imagen: ${e instanceof Error?e.message:"Error desconocido"}`)}finally{c(!1)}}},f=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)},x=()=>{switch(n){case"square":return"aspect-square";case"portrait":return"aspect-[3/4]";default:return"aspect-video"}};return(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(u._,{className:"text-sm font-medium",children:r}),e?(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("div",{className:`relative ${x()} rounded-lg overflow-hidden border`,children:a.jsx(ey.default,{src:e||"/placeholder.svg",alt:r,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(s.z,{onClick:()=>{t(""),h.current&&(h.current.value="")},variant:"destructive",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(ej.Z,{className:"w-4 h-4"})})}),a.jsx("div",{className:"mt-2",children:(0,a.jsxs)(s.z,{onClick:()=>h.current?.click(),variant:"outline",size:"sm",disabled:o,children:[a.jsx(ew,{className:"w-4 h-4 mr-2"}),"Cambiar imagen"]})})]}):a.jsx("div",{className:`relative ${x()} border-2 border-dashed rounded-lg transition-colors ${d?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1);let t=e.dataTransfer.files?.[0];t&&p(t)},children:(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[a.jsx(eN,{className:"w-12 h-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arrastra una imagen aqu\xed o haz clic para seleccionar"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-4",children:["PNG, JPG, WEBP hasta ",l,"MB"]}),(0,a.jsxs)(s.z,{onClick:()=>h.current?.click(),variant:"outline",disabled:o,children:[a.jsx(ew,{className:"w-4 h-4 mr-2"}),o?"Subiendo...":"Seleccionar imagen"]})]})}),a.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&p(t)},className:"hidden"}),o&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-600 mr-2"}),"Procesando imagen..."]})]})}var eS=r(46817);function eR(e,[t,r]){return Math.min(r,Math.max(t,e))}var eE=r(96990),eI=r(3402),eT=r(60018);let eP=["top","right","bottom","left"],eA=Math.min,eM=Math.max,eF=Math.round,eD=Math.floor,eL=e=>({x:e,y:e}),ez={left:"right",right:"left",bottom:"top",top:"bottom"},e_={start:"end",end:"start"};function eV(e,t){return"function"==typeof e?e(t):e}function eO(e){return e.split("-")[0]}function eH(e){return e.split("-")[1]}function eW(e){return"x"===e?"y":"x"}function e$(e){return"y"===e?"height":"width"}let eB=new Set(["top","bottom"]);function eq(e){return eB.has(eO(e))?"y":"x"}function eZ(e){return e.replace(/start|end/g,e=>e_[e])}let eU=["left","right"],eG=["right","left"],eK=["top","bottom"],eY=["bottom","top"];function eX(e){return e.replace(/left|right|bottom|top/g,e=>ez[e])}function eJ(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function eQ(e){let{x:t,y:r,width:a,height:i}=e;return{width:a,height:i,top:r,left:t,right:t+a,bottom:r+i,x:t,y:r}}function e0(e,t,r){let a,{reference:i,floating:n}=e,s=eq(t),l=eW(eq(t)),o=e$(l),c=eO(t),d="y"===s,u=i.x+i.width/2-n.width/2,m=i.y+i.height/2-n.height/2,h=i[o]/2-n[o]/2;switch(c){case"top":a={x:u,y:i.y-n.height};break;case"bottom":a={x:u,y:i.y+i.height};break;case"right":a={x:i.x+i.width,y:m};break;case"left":a={x:i.x-n.width,y:m};break;default:a={x:i.x,y:i.y}}switch(eH(t)){case"start":a[l]-=h*(r&&d?-1:1);break;case"end":a[l]+=h*(r&&d?-1:1)}return a}let e1=async(e,t,r)=>{let{placement:a="bottom",strategy:i="absolute",middleware:n=[],platform:s}=r,l=n.filter(Boolean),o=await (null==s.isRTL?void 0:s.isRTL(t)),c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=e0(c,a,o),m=a,h={},p=0;for(let r=0;r<l.length;r++){let{name:n,fn:f}=l[r],{x:x,y:g,data:v,reset:b}=await f({x:d,y:u,initialPlacement:a,placement:m,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=x?x:d,u=null!=g?g:u,h={...h,[n]:{...h[n],...v}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(m=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:d,y:u}=e0(c,m,o)),r=-1)}return{x:d,y:u,placement:m,strategy:i,middlewareData:h}};async function e2(e,t){var r;void 0===t&&(t={});let{x:a,y:i,platform:n,rects:s,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=eV(t,e),p=eJ(h),f=l[m?"floating"===u?"reference":"floating":u],x=eQ(await n.getClippingRect({element:null==(r=await (null==n.isElement?void 0:n.isElement(f)))||r?f:f.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:a,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await (null==n.getOffsetParent?void 0:n.getOffsetParent(l.floating)),b=await (null==n.isElement?void 0:n.isElement(v))&&await (null==n.getScale?void 0:n.getScale(v))||{x:1,y:1},y=eQ(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:o}):g);return{top:(x.top-y.top+p.top)/b.y,bottom:(y.bottom-x.bottom+p.bottom)/b.y,left:(x.left-y.left+p.left)/b.x,right:(y.right-x.right+p.right)/b.x}}function e4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function e5(e){return eP.some(t=>e[t]>=0)}let e6=new Set(["left","top"]);async function e3(e,t){let{placement:r,platform:a,elements:i}=e,n=await (null==a.isRTL?void 0:a.isRTL(i.floating)),s=eO(r),l=eH(r),o="y"===eq(r),c=e6.has(s)?-1:1,d=n&&o?-1:1,u=eV(t,e),{mainAxis:m,crossAxis:h,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof p&&(h="end"===l?-1*p:p),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}function e7(){return"undefined"!=typeof window}function e8(e){return tt(e)?(e.nodeName||"").toLowerCase():"#document"}function e9(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function te(e){var t;return null==(t=(tt(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function tt(e){return!!e7()&&(e instanceof Node||e instanceof e9(e).Node)}function tr(e){return!!e7()&&(e instanceof Element||e instanceof e9(e).Element)}function ta(e){return!!e7()&&(e instanceof HTMLElement||e instanceof e9(e).HTMLElement)}function ti(e){return!!e7()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof e9(e).ShadowRoot)}let tn=new Set(["inline","contents"]);function ts(e){let{overflow:t,overflowX:r,overflowY:a,display:i}=tg(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!tn.has(i)}let tl=new Set(["table","td","th"]),to=[":popover-open",":modal"];function tc(e){return to.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let td=["transform","translate","scale","rotate","perspective"],tu=["transform","translate","scale","rotate","perspective","filter"],tm=["paint","layout","strict","content"];function th(e){let t=tp(),r=tr(e)?tg(e):e;return td.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||tu.some(e=>(r.willChange||"").includes(e))||tm.some(e=>(r.contain||"").includes(e))}function tp(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let tf=new Set(["html","body","#document"]);function tx(e){return tf.has(e8(e))}function tg(e){return e9(e).getComputedStyle(e)}function tv(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tb(e){if("html"===e8(e))return e;let t=e.assignedSlot||e.parentNode||ti(e)&&e.host||te(e);return ti(t)?t.host:t}function ty(e,t,r){var a;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=function e(t){let r=tb(t);return tx(r)?t.ownerDocument?t.ownerDocument.body:t.body:ta(r)&&ts(r)?r:e(r)}(e),n=i===(null==(a=e.ownerDocument)?void 0:a.body),s=e9(i);if(n){let e=tj(s);return t.concat(s,s.visualViewport||[],ts(i)?i:[],e&&r?ty(e):[])}return t.concat(i,ty(i,[],r))}function tj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tw(e){let t=tg(e),r=parseFloat(t.width)||0,a=parseFloat(t.height)||0,i=ta(e),n=i?e.offsetWidth:r,s=i?e.offsetHeight:a,l=eF(r)!==n||eF(a)!==s;return l&&(r=n,a=s),{width:r,height:a,$:l}}function tN(e){return tr(e)?e:e.contextElement}function tC(e){let t=tN(e);if(!ta(t))return eL(1);let r=t.getBoundingClientRect(),{width:a,height:i,$:n}=tw(t),s=(n?eF(r.width):r.width)/a,l=(n?eF(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}let tk=eL(0);function tS(e){let t=e9(e);return tp()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:tk}function tR(e,t,r,a){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let n=e.getBoundingClientRect(),s=tN(e),l=eL(1);t&&(a?tr(a)&&(l=tC(a)):l=tC(e));let o=(void 0===(i=r)&&(i=!1),a&&(!i||a===e9(s))&&i)?tS(s):eL(0),c=(n.left+o.x)/l.x,d=(n.top+o.y)/l.y,u=n.width/l.x,m=n.height/l.y;if(s){let e=e9(s),t=a&&tr(a)?e9(a):a,r=e,i=tj(r);for(;i&&a&&t!==r;){let e=tC(i),t=i.getBoundingClientRect(),a=tg(i),n=t.left+(i.clientLeft+parseFloat(a.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(a.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=n,d+=s,i=tj(r=e9(i))}}return eQ({width:u,height:m,x:c,y:d})}function tE(e,t){let r=tv(e).scrollLeft;return t?t.left+r:tR(te(e)).left+r}function tI(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-tE(e,r),y:r.top+t.scrollTop}}let tT=new Set(["absolute","fixed"]);function tP(e,t,r){let a;if("viewport"===t)a=function(e,t){let r=e9(e),a=te(e),i=r.visualViewport,n=a.clientWidth,s=a.clientHeight,l=0,o=0;if(i){n=i.width,s=i.height;let e=tp();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,o=i.offsetTop)}let c=tE(a);if(c<=0){let e=a.ownerDocument,t=e.body,r=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,s=Math.abs(a.clientWidth-t.clientWidth-i);s<=25&&(n-=s)}else c<=25&&(n+=c);return{width:n,height:s,x:l,y:o}}(e,r);else if("document"===t)a=function(e){let t=te(e),r=tv(e),a=e.ownerDocument.body,i=eM(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),n=eM(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),s=-r.scrollLeft+tE(e),l=-r.scrollTop;return"rtl"===tg(a).direction&&(s+=eM(t.clientWidth,a.clientWidth)-i),{width:i,height:n,x:s,y:l}}(te(e));else if(tr(t))a=function(e,t){let r=tR(e,!0,"fixed"===t),a=r.top+e.clientTop,i=r.left+e.clientLeft,n=ta(e)?tC(e):eL(1),s=e.clientWidth*n.x;return{width:s,height:e.clientHeight*n.y,x:i*n.x,y:a*n.y}}(t,r);else{let r=tS(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return eQ(a)}function tA(e){return"static"===tg(e).position}function tM(e,t){if(!ta(e)||"fixed"===tg(e).position)return null;if(t)return t(e);let r=e.offsetParent;return te(e)===r&&(r=r.ownerDocument.body),r}function tF(e,t){var r;let a=e9(e);if(tc(e))return a;if(!ta(e)){let t=tb(e);for(;t&&!tx(t);){if(tr(t)&&!tA(t))return t;t=tb(t)}return a}let i=tM(e,t);for(;i&&(r=i,tl.has(e8(r)))&&tA(i);)i=tM(i,t);return i&&tx(i)&&tA(i)&&!th(i)?a:i||function(e){let t=tb(e);for(;ta(t)&&!tx(t);){if(th(t))return t;if(tc(t))break;t=tb(t)}return null}(e)||a}let tD=async function(e){let t=this.getOffsetParent||tF,r=this.getDimensions,a=await r(e.floating);return{reference:function(e,t,r){let a=ta(t),i=te(t),n="fixed"===r,s=tR(e,!0,n,t),l={scrollLeft:0,scrollTop:0},o=eL(0);if(a||!a&&!n){if(("body"!==e8(t)||ts(i))&&(l=tv(t)),a){let e=tR(t,!0,n,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else i&&(o.x=tE(i))}n&&!a&&i&&(o.x=tE(i));let c=!i||a||n?eL(0):tI(i,l);return{x:s.left+l.scrollLeft-o.x-c.x,y:s.top+l.scrollTop-o.y-c.y,width:s.width,height:s.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},tL={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:a,strategy:i}=e,n="fixed"===i,s=te(a),l=!!t&&tc(t.floating);if(a===s||l&&n)return r;let o={scrollLeft:0,scrollTop:0},c=eL(1),d=eL(0),u=ta(a);if((u||!u&&!n)&&(("body"!==e8(a)||ts(s))&&(o=tv(a)),ta(a))){let e=tR(a);c=tC(a),d.x=e.x+a.clientLeft,d.y=e.y+a.clientTop}let m=!s||u||n?eL(0):tI(s,o);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:te,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:a,strategy:i}=e,n=[..."clippingAncestors"===r?tc(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let a=ty(e,[],!1).filter(e=>tr(e)&&"body"!==e8(e)),i=null,n="fixed"===tg(e).position,s=n?tb(e):e;for(;tr(s)&&!tx(s);){let t=tg(s),r=th(s);r||"fixed"!==t.position||(i=null),(n?!r&&!i:!r&&"static"===t.position&&!!i&&tT.has(i.position)||ts(s)&&!r&&function e(t,r){let a=tb(t);return!(a===r||!tr(a)||tx(a))&&("fixed"===tg(a).position||e(a,r))}(e,s))?a=a.filter(e=>e!==s):i=t,s=tb(s)}return t.set(e,a),a}(t,this._c):[].concat(r),a],s=n[0],l=n.reduce((e,r)=>{let a=tP(t,r,i);return e.top=eM(a.top,e.top),e.right=eA(a.right,e.right),e.bottom=eA(a.bottom,e.bottom),e.left=eM(a.left,e.left),e},tP(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:tF,getElementRects:tD,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=tw(e);return{width:t,height:r}},getScale:tC,isElement:tr,isRTL:function(e){return"rtl"===tg(e).direction}};function tz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let t_=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:a,placement:i,rects:n,platform:s,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=eV(e,t)||{};if(null==c)return{};let u=eJ(d),m={x:r,y:a},h=eW(eq(i)),p=e$(h),f=await s.getDimensions(c),x="y"===h,g=x?"clientHeight":"clientWidth",v=n.reference[p]+n.reference[h]-m[h]-n.floating[p],b=m[h]-n.reference[h],y=await (null==s.getOffsetParent?void 0:s.getOffsetParent(c)),j=y?y[g]:0;j&&await (null==s.isElement?void 0:s.isElement(y))||(j=l.floating[g]||n.floating[p]);let w=j/2-f[p]/2-1,N=eA(u[x?"top":"left"],w),C=eA(u[x?"bottom":"right"],w),k=j-f[p]-C,S=j/2-f[p]/2+(v/2-b/2),R=eM(N,eA(S,k)),E=!o.arrow&&null!=eH(i)&&S!==R&&n.reference[p]/2-(S<N?N:C)-f[p]/2<0,I=E?S<N?S-N:S-k:0;return{[h]:m[h]+I,data:{[h]:R,centerOffset:S-R-I,...E&&{alignmentOffset:I}},reset:E}}}),tV=(e,t,r)=>{let a=new Map,i={platform:tL,...r},n={...i.platform,_c:a};return e1(e,t,{...i,platform:n})};var tO="undefined"!=typeof document?i.useLayoutEffect:function(){};function tH(e,t){let r,a,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(a=r;0!=a--;)if(!tH(e[a],t[a]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(a=r;0!=a--;)if(!({}).hasOwnProperty.call(t,i[a]))return!1;for(a=r;0!=a--;){let r=i[a];if(("_owner"!==r||!e.$$typeof)&&!tH(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tW(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t$(e,t){let r=tW(e);return Math.round(t*r)/r}function tB(e){let t=i.useRef(e);return tO(()=>{t.current=e}),t}let tq=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:a}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?t_({element:r.current,padding:a}).fn(t):{}:r?t_({element:r,padding:a}).fn(t):{}}}),tZ=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,a;let{x:i,y:n,placement:s,middlewareData:l}=t,o=await e3(t,e);return s===(null==(r=l.offset)?void 0:r.placement)&&null!=(a=l.arrow)&&a.alignmentOffset?{}:{x:i+o.x,y:n+o.y,data:{...o,placement:s}}}}}(e),options:[e,t]}),tU=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:a,placement:i}=t,{mainAxis:n=!0,crossAxis:s=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...o}=eV(e,t),c={x:r,y:a},d=await e2(t,o),u=eq(eO(i)),m=eW(u),h=c[m],p=c[u];if(n){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=h+d[e],a=h-d[t];h=eM(r,eA(h,a))}if(s){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=p+d[e],a=p-d[t];p=eM(r,eA(p,a))}let f=l.fn({...t,[m]:h,[u]:p});return{...f,data:{x:f.x-r,y:f.y-a,enabled:{[m]:n,[u]:s}}}}}}(e),options:[e,t]}),tG=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:a,placement:i,rects:n,middlewareData:s}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=eV(e,t),d={x:r,y:a},u=eq(i),m=eW(u),h=d[m],p=d[u],f=eV(l,t),x="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(o){let e="y"===m?"height":"width",t=n.reference[m]-n.floating[e]+x.mainAxis,r=n.reference[m]+n.reference[e]-x.mainAxis;h<t?h=t:h>r&&(h=r)}if(c){var g,v;let e="y"===m?"width":"height",t=e6.has(eO(i)),r=n.reference[u]-n.floating[e]+(t&&(null==(g=s.offset)?void 0:g[u])||0)+(t?0:x.crossAxis),a=n.reference[u]+n.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[u])||0)-(t?x.crossAxis:0);p<r?p=r:p>a&&(p=a)}return{[m]:h,[u]:p}}}}(e),options:[e,t]}),tK=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,a,i,n,s;let{placement:l,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=eV(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};let y=eO(l),j=eq(d),w=eO(d)===d,N=await (null==u.isRTL?void 0:u.isRTL(m.floating)),C=f||(w||!v?[eX(d)]:function(e){let t=eX(e);return[eZ(e),t,eZ(t)]}(d)),k="none"!==g;!f&&k&&C.push(...function(e,t,r,a){let i=eH(e),n=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?eG:eU;return t?eU:eG;case"left":case"right":return t?eK:eY;default:return[]}}(eO(e),"start"===r,a);return i&&(n=n.map(e=>e+"-"+i),t&&(n=n.concat(n.map(eZ)))),n}(d,v,g,N));let S=[d,...C],R=await e2(t,b),E=[],I=(null==(a=o.flip)?void 0:a.overflows)||[];if(h&&E.push(R[y]),p){let e=function(e,t,r){void 0===r&&(r=!1);let a=eH(e),i=eW(eq(e)),n=e$(i),s="x"===i?a===(r?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[n]>t.floating[n]&&(s=eX(s)),[s,eX(s)]}(l,c,N);E.push(R[e[0]],R[e[1]])}if(I=[...I,{placement:l,overflows:E}],!E.every(e=>e<=0)){let e=((null==(i=o.flip)?void 0:i.index)||0)+1,t=S[e];if(t&&(!("alignment"===p&&j!==eq(t))||I.every(e=>eq(e.placement)!==j||e.overflows[0]>0)))return{data:{index:e,overflows:I},reset:{placement:t}};let r=null==(n=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:n.placement;if(!r)switch(x){case"bestFit":{let e=null==(s=I.filter(e=>{if(k){let t=eq(e.placement);return t===j||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=d}if(l!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),tY=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,a;let i,n;let{placement:s,rects:l,platform:o,elements:c}=t,{apply:d=()=>{},...u}=eV(e,t),m=await e2(t,u),h=eO(s),p=eH(s),f="y"===eq(s),{width:x,height:g}=l.floating;"top"===h||"bottom"===h?(i=h,n=p===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(n=h,i="end"===p?"top":"bottom");let v=g-m.top-m.bottom,b=x-m.left-m.right,y=eA(g-m[i],v),j=eA(x-m[n],b),w=!t.middlewareData.shift,N=y,C=j;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=b),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(N=v),w&&!p){let e=eM(m.left,0),t=eM(m.right,0),r=eM(m.top,0),a=eM(m.bottom,0);f?C=x-2*(0!==e||0!==t?e+t:eM(m.left,m.right)):N=g-2*(0!==r||0!==a?r+a:eM(m.top,m.bottom))}await d({...t,availableWidth:C,availableHeight:N});let k=await o.getDimensions(c.floating);return x!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tX=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:a="referenceHidden",...i}=eV(e,t);switch(a){case"referenceHidden":{let e=e4(await e2(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:e5(e)}}}case"escaped":{let e=e4(await e2(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:e5(e)}}}default:return{}}}}}(e),options:[e,t]}),tJ=(e,t)=>({...tq(e),options:[e,t]});var tQ=i.forwardRef((e,t)=>{let{children:r,width:i=10,height:n=5,...s}=e;return(0,a.jsx)(g.WV.svg,{...s,ref:t,width:i,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,a.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tQ.displayName="Arrow";var t0=r(9537),t1="Popper",[t2,t4]=(0,h.b)(t1),[t5,t6]=t2(t1),t3=e=>{let{__scopePopper:t,children:r}=e,[n,s]=i.useState(null);return(0,a.jsx)(t5,{scope:t,anchor:n,onAnchorChange:s,children:r})};t3.displayName=t1;var t7="PopperAnchor",t8=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...s}=e,l=t6(t7,r),o=i.useRef(null),c=(0,f.e)(t,o);return i.useEffect(()=>{l.onAnchorChange(n?.current||o.current)}),n?null:(0,a.jsx)(g.WV.div,{...s,ref:c})});t8.displayName=t7;var t9="PopperContent",[re,rt]=t2(t9),rr=i.forwardRef((e,t)=>{let{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:l="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:b,...y}=e,j=t6(t9,r),[w,N]=i.useState(null),C=(0,f.e)(t,e=>N(e)),[k,S]=i.useState(null),R=function(e){let[t,r]=i.useState(void 0);return(0,t0.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,i;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,i=t.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(k),E=R?.width??0,I=R?.height??0,T="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},P=Array.isArray(u)?u:[u],A=P.length>0,M={padding:T,boundary:P.filter(rs),altBoundary:A},{refs:F,floatingStyles:D,placement:L,isPositioned:z,middlewareData:_}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:s,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,m]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=i.useState(a);tH(h,a)||p(a);let[f,x]=i.useState(null),[g,v]=i.useState(null),b=i.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),y=i.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),j=s||f,w=l||g,N=i.useRef(null),C=i.useRef(null),k=i.useRef(u),S=null!=c,R=tB(c),E=tB(n),I=tB(d),T=i.useCallback(()=>{if(!N.current||!C.current)return;let e={placement:t,strategy:r,middleware:h};E.current&&(e.platform=E.current),tV(N.current,C.current,e).then(e=>{let t={...e,isPositioned:!1!==I.current};P.current&&!tH(k.current,t)&&(k.current=t,eS.flushSync(()=>{m(t)}))})},[h,t,r,E,I]);tO(()=>{!1===d&&k.current.isPositioned&&(k.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[d]);let P=i.useRef(!1);tO(()=>(P.current=!0,()=>{P.current=!1}),[]),tO(()=>{if(j&&(N.current=j),w&&(C.current=w),j&&w){if(R.current)return R.current(j,w,T);T()}},[j,w,T,R,S]);let A=i.useMemo(()=>({reference:N,floating:C,setReference:b,setFloating:y}),[b,y]),M=i.useMemo(()=>({reference:j,floating:w}),[j,w]),F=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!M.floating)return e;let t=t$(M.floating,u.x),a=t$(M.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+a+"px)",...tW(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:a}},[r,o,M.floating,u.x,u.y]);return i.useMemo(()=>({...u,update:T,refs:A,elements:M,floatingStyles:F}),[u,T,A,M,F])}({strategy:"fixed",placement:n+("center"!==l?"-"+l:""),whileElementsMounted:(...e)=>(function(e,t,r,a){let i;void 0===a&&(a={});let{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=a,d=tN(e),u=n||s?[...d?ty(d):[],...ty(t)]:[];u.forEach(e=>{n&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let m=d&&o?function(e,t){let r,a=null,i=te(e);function n(){var e;clearTimeout(r),null==(e=a)||e.disconnect(),a=null}return function s(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),n();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(l||t(),!m||!h)return;let p=eD(u),f=eD(i.clientWidth-(d+m)),x={rootMargin:-p+"px "+-f+"px "+-eD(i.clientHeight-(u+h))+"px "+-eD(d)+"px",threshold:eM(0,eA(1,o))||1},g=!0;function v(t){let a=t[0].intersectionRatio;if(a!==o){if(!g)return s();a?s(!1,a):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==a||tz(c,e.getBoundingClientRect())||s(),g=!1}try{a=new IntersectionObserver(v,{...x,root:i.ownerDocument})}catch(e){a=new IntersectionObserver(v,x)}a.observe(e)}(!0),n}(d,r):null,h=-1,p=null;l&&(p=new ResizeObserver(e=>{let[a]=e;a&&a.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let f=c?tR(e):null;return c&&function t(){let a=tR(e);f&&!tz(f,a)&&r(),f=a,i=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{n&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(i)}})(...e,{animationFrame:"always"===x}),elements:{reference:j.anchor},middleware:[tZ({mainAxis:s+I,alignmentAxis:o}),d&&tU({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?tG():void 0,...M}),d&&tK({...M}),tY({...M,apply:({elements:e,rects:t,availableWidth:r,availableHeight:a})=>{let{width:i,height:n}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${a}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${n}px`)}}),k&&tJ({element:k,padding:c}),rl({arrowWidth:E,arrowHeight:I}),p&&tX({strategy:"referenceHidden",...M})]}),[V,O]=ro(L),H=(0,v.W)(b);(0,t0.b)(()=>{z&&H?.()},[z,H]);let W=_.arrow?.x,$=_.arrow?.y,B=_.arrow?.centerOffset!==0,[q,Z]=i.useState();return(0,t0.b)(()=>{w&&Z(window.getComputedStyle(w).zIndex)},[w]),(0,a.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:z?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[_.transformOrigin?.x,_.transformOrigin?.y].join(" "),..._.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,a.jsx)(re,{scope:r,placedSide:V,onArrowChange:S,arrowX:W,arrowY:$,shouldHideArrow:B,children:(0,a.jsx)(g.WV.div,{"data-side":V,"data-align":O,...y,ref:C,style:{...y.style,animation:z?void 0:"none"}})})})});rr.displayName=t9;var ra="PopperArrow",ri={top:"bottom",right:"left",bottom:"top",left:"right"},rn=i.forwardRef(function(e,t){let{__scopePopper:r,...i}=e,n=rt(ra,r),s=ri[n.placedSide];return(0,a.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,a.jsx)(tQ,{...i,ref:t,style:{...i.style,display:"block"}})})});function rs(e){return null!==e}rn.displayName=ra;var rl=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:a,middlewareData:i}=t,n=i.arrow?.centerOffset!==0,s=n?0:e.arrowWidth,l=n?0:e.arrowHeight,[o,c]=ro(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(i.arrow?.x??0)+s/2,m=(i.arrow?.y??0)+l/2,h="",p="";return"bottom"===o?(h=n?d:`${u}px`,p=`${-l}px`):"top"===o?(h=n?d:`${u}px`,p=`${a.floating.height+l}px`):"right"===o?(h=`${-l}px`,p=n?d:`${m}px`):"left"===o&&(h=`${a.floating.width+l}px`,p=n?d:`${m}px`),{data:{x:h,y:p}}}});function ro(e){let[t,r="center"]=e.split("-");return[t,r]}var rc=r(28611),rd=r(69008),ru=r(20840),rm=r(58529),rh=r(78350),rp=[" ","Enter","ArrowUp","ArrowDown"],rf=[" ","Enter"],rx="Select",[rg,rv,rb]=(0,p.B)(rx),[ry,rj]=(0,h.b)(rx,[rb,t4]),rw=t4(),[rN,rC]=ry(rx),[rk,rS]=ry(rx),rR=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:l,value:o,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:h,disabled:p,required:f,form:g}=e,v=rw(t),[y,w]=i.useState(null),[N,C]=i.useState(null),[k,S]=i.useState(!1),R=j(u),[E=!1,I]=(0,b.T)({prop:n,defaultProp:s,onChange:l}),[T,P]=(0,b.T)({prop:o,defaultProp:c,onChange:d}),A=i.useRef(null),M=!y||g||!!y.closest("form"),[F,D]=i.useState(new Set),L=Array.from(F).map(e=>e.props.value).join(";");return(0,a.jsx)(t3,{...v,children:(0,a.jsxs)(rN,{required:f,scope:t,trigger:y,onTriggerChange:w,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:(0,x.M)(),value:T,onValueChange:P,open:E,onOpenChange:I,dir:R,triggerPointerDownPosRef:A,disabled:p,children:[(0,a.jsx)(rg.Provider,{scope:t,children:(0,a.jsx)(rk,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(e=>{D(t=>new Set(t).add(e))},[]),onNativeOptionRemove:i.useCallback(e=>{D(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),M?(0,a.jsxs)(ar,{"aria-hidden":!0,required:f,tabIndex:-1,name:m,autoComplete:h,value:T,onChange:e=>P(e.target.value),disabled:p,form:g,children:[void 0===T?(0,a.jsx)("option",{value:""}):null,Array.from(F)]},L):null]})})};rR.displayName=rx;var rE="SelectTrigger",rI=i.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...s}=e,l=rw(r),o=rC(rE,r),c=o.disabled||n,d=(0,f.e)(t,o.onTriggerChange),u=rv(r),h=i.useRef("touch"),[p,x,v]=aa(e=>{let t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),a=ai(t,e,r);void 0!==a&&o.onValueChange(a.value)}),b=e=>{c||(o.onOpenChange(!0),v()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,a.jsx)(t8,{asChild:!0,...l,children:(0,a.jsx)(g.WV.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":at(o.value)?"":void 0,...s,ref:d,onClick:(0,m.M)(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&b(e)}),onPointerDown:(0,m.M)(s.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(b(e),e.preventDefault())}),onKeyDown:(0,m.M)(s.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&rp.includes(e.key)&&(b(),e.preventDefault())})})})});rI.displayName=rE;var rT="SelectValue",rP=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:i,style:n,children:s,placeholder:l="",...o}=e,c=rC(rT,r),{onValueNodeHasChildrenChange:d}=c,u=void 0!==s,m=(0,f.e)(t,c.onValueNodeChange);return(0,t0.b)(()=>{d(u)},[d,u]),(0,a.jsx)(g.WV.span,{...o,ref:m,style:{pointerEvents:"none"},children:at(c.value)?(0,a.jsx)(a.Fragment,{children:l}):s})});rP.displayName=rT;var rA=i.forwardRef((e,t)=>{let{__scopeSelect:r,children:i,...n}=e;return(0,a.jsx)(g.WV.span,{"aria-hidden":!0,...n,ref:t,children:i||"▼"})});rA.displayName="SelectIcon";var rM=e=>(0,a.jsx)(rc.h,{asChild:!0,...e});rM.displayName="SelectPortal";var rF="SelectContent",rD=i.forwardRef((e,t)=>{let r=rC(rF,e.__scopeSelect),[n,s]=i.useState();return((0,t0.b)(()=>{s(new DocumentFragment)},[]),r.open)?(0,a.jsx)(r_,{...e,ref:t}):n?eS.createPortal((0,a.jsx)(rL,{scope:e.__scopeSelect,children:(0,a.jsx)(rg.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),n):null});rD.displayName=rF;var[rL,rz]=ry(rF),r_=i.forwardRef((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:l,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:g,sticky:v,hideWhenDetached:b,avoidCollisions:y,...j}=e,w=rC(rF,r),[N,C]=i.useState(null),[k,S]=i.useState(null),R=(0,f.e)(t,e=>C(e)),[E,I]=i.useState(null),[T,P]=i.useState(null),A=rv(r),[M,F]=i.useState(!1),D=i.useRef(!1);i.useEffect(()=>{if(N)return(0,rm.Ry)(N)},[N]),(0,eI.EW)();let L=i.useCallback(e=>{let[t,...r]=A().map(e=>e.ref.current),[a]=r.slice(-1),i=document.activeElement;for(let r of e)if(r===i||(r?.scrollIntoView({block:"nearest"}),r===t&&k&&(k.scrollTop=0),r===a&&k&&(k.scrollTop=k.scrollHeight),r?.focus(),document.activeElement!==i))return},[A,k]),z=i.useCallback(()=>L([E,N]),[L,E,N]);i.useEffect(()=>{M&&z()},[M,z]);let{onOpenChange:_,triggerPointerDownPosRef:V}=w;i.useEffect(()=>{if(N){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(V.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():N.contains(r.target)||_(!1),document.removeEventListener("pointermove",t),V.current=null};return null!==V.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[N,_,V]),i.useEffect(()=>{let e=()=>_(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[_]);let[O,H]=aa(e=>{let t=A().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=ai(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),W=i.useCallback((e,t,r)=>{let a=!D.current&&!r;(void 0!==w.value&&w.value===t||a)&&(I(e),a&&(D.current=!0))},[w.value]),$=i.useCallback(()=>N?.focus(),[N]),B=i.useCallback((e,t,r)=>{let a=!D.current&&!r;(void 0!==w.value&&w.value===t||a)&&P(e)},[w.value]),q="popper"===n?rO:rV,Z=q===rO?{side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:g,sticky:v,hideWhenDetached:b,avoidCollisions:y}:{};return(0,a.jsx)(rL,{scope:r,content:N,viewport:k,onViewportChange:S,itemRefCallback:W,selectedItem:E,onItemLeave:$,itemTextRefCallback:B,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:M,searchRef:O,children:(0,a.jsx)(rh.Z,{as:rd.g7,allowPinchZoom:!0,children:(0,a.jsx)(eT.M,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,m.M)(s,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(eE.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,a.jsx)(q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...j,...Z,onPlaced:()=>F(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:(0,m.M)(j.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||H(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=A().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>L(t)),e.preventDefault()}})})})})})})});r_.displayName="SelectContentImpl";var rV=i.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:n,...s}=e,l=rC(rF,r),o=rz(rF,r),[c,d]=i.useState(null),[u,m]=i.useState(null),h=(0,f.e)(t,e=>m(e)),p=rv(r),x=i.useRef(!1),v=i.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:j,focusSelectedItem:w}=o,N=i.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&u&&b&&y&&j){let e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),a=j.getBoundingClientRect();if("rtl"!==l.dir){let i=a.left-t.left,n=r.left-i,s=e.left-n,l=e.width+s,o=Math.max(l,t.width),d=eR(n,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.left=d+"px"}else{let i=t.right-a.right,n=window.innerWidth-r.right-i,s=window.innerWidth-e.right-n,l=e.width+s,o=Math.max(l,t.width),d=eR(n,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.right=d+"px"}let i=p(),s=window.innerHeight-20,o=b.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),h=parseInt(d.paddingTop,10),f=parseInt(d.borderBottomWidth,10),g=m+h+o+parseInt(d.paddingBottom,10)+f,v=Math.min(5*y.offsetHeight,g),w=window.getComputedStyle(b),N=parseInt(w.paddingTop,10),C=parseInt(w.paddingBottom,10),k=e.top+e.height/2-10,S=y.offsetHeight/2,R=m+h+(y.offsetTop+S);if(R<=k){let e=i.length>0&&y===i[i.length-1].ref.current;c.style.bottom="0px";let t=u.clientHeight-b.offsetTop-b.offsetHeight;c.style.height=R+Math.max(s-k,S+(e?C:0)+t+f)+"px"}else{let e=i.length>0&&y===i[0].ref.current;c.style.top="0px";let t=Math.max(k,m+b.offsetTop+(e?N:0)+S);c.style.height=t+(g-R)+"px",b.scrollTop=R-k+b.offsetTop}c.style.margin="10px 0",c.style.minHeight=v+"px",c.style.maxHeight=s+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[p,l.trigger,l.valueNode,c,u,b,y,j,l.dir,n]);(0,t0.b)(()=>N(),[N]);let[C,k]=i.useState();(0,t0.b)(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);let S=i.useCallback(e=>{e&&!0===v.current&&(N(),w?.(),v.current=!1)},[N,w]);return(0,a.jsx)(rH,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:S,children:(0,a.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:(0,a.jsx)(g.WV.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});rV.displayName="SelectItemAlignedPosition";var rO=i.forwardRef((e,t)=>{let{__scopeSelect:r,align:i="start",collisionPadding:n=10,...s}=e,l=rw(r);return(0,a.jsx)(rr,{...l,...s,ref:t,align:i,collisionPadding:n,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName="SelectPopperPosition";var[rH,rW]=ry(rF,{}),r$="SelectViewport",rB=i.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:n,...s}=e,l=rz(r$,r),o=rW(r$,r),c=(0,f.e)(t,l.onViewportChange),d=i.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,a.jsx)(rg.Slot,{scope:r,children:(0,a.jsx)(g.WV.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:(0,m.M)(s.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=o;if(a?.current&&r){let e=Math.abs(d.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,i=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(i<a){let n=i+e,s=Math.min(a,n),l=n-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});rB.displayName=r$;var rq="SelectGroup",[rZ,rU]=ry(rq);i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=(0,x.M)();return(0,a.jsx)(rZ,{scope:r,id:n,children:(0,a.jsx)(g.WV.div,{role:"group","aria-labelledby":n,...i,ref:t})})}).displayName=rq;var rG="SelectLabel",rK=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=rU(rG,r);return(0,a.jsx)(g.WV.div,{id:n.id,...i,ref:t})});rK.displayName=rG;var rY="SelectItem",[rX,rJ]=ry(rY),rQ=i.forwardRef((e,t)=>{let{__scopeSelect:r,value:n,disabled:s=!1,textValue:l,...o}=e,c=rC(rY,r),d=rz(rY,r),u=c.value===n,[h,p]=i.useState(l??""),[v,b]=i.useState(!1),y=(0,f.e)(t,e=>d.itemRefCallback?.(e,n,s)),j=(0,x.M)(),w=i.useRef("touch"),N=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(rX,{scope:r,value:n,disabled:s,textId:j,isSelected:u,onItemTextChange:i.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(rg.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:(0,a.jsx)(g.WV.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:(0,m.M)(o.onFocus,()=>b(!0)),onBlur:(0,m.M)(o.onBlur,()=>b(!1)),onClick:(0,m.M)(o.onClick,()=>{"mouse"!==w.current&&N()}),onPointerUp:(0,m.M)(o.onPointerUp,()=>{"mouse"===w.current&&N()}),onPointerDown:(0,m.M)(o.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:(0,m.M)(o.onPointerMove,e=>{w.current=e.pointerType,s?d.onItemLeave?.():"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,m.M)(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:(0,m.M)(o.onKeyDown,e=>{d.searchRef?.current!==""&&" "===e.key||(rf.includes(e.key)&&N()," "===e.key&&e.preventDefault())})})})})});rQ.displayName=rY;var r0="SelectItemText",r1=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:n,style:s,...l}=e,o=rC(r0,r),c=rz(r0,r),d=rJ(r0,r),u=rS(r0,r),[m,h]=i.useState(null),p=(0,f.e)(t,e=>h(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),x=m?.textContent,v=i.useMemo(()=>(0,a.jsx)("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=u;return(0,t0.b)(()=>(b(v),()=>y(v)),[b,y,v]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.WV.span,{id:d.textId,...l,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eS.createPortal(l.children,o.valueNode):null]})});r1.displayName=r0;var r2="SelectItemIndicator",r4=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return rJ(r2,r).isSelected?(0,a.jsx)(g.WV.span,{"aria-hidden":!0,...i,ref:t}):null});r4.displayName=r2;var r5="SelectScrollUpButton",r6=i.forwardRef((e,t)=>{let r=rz(r5,e.__scopeSelect),n=rW(r5,e.__scopeSelect),[s,l]=i.useState(!1),o=(0,f.e)(t,n.onScrollButtonChange);return(0,t0.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){l(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,a.jsx)(r8,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});r6.displayName=r5;var r3="SelectScrollDownButton",r7=i.forwardRef((e,t)=>{let r=rz(r3,e.__scopeSelect),n=rW(r3,e.__scopeSelect),[s,l]=i.useState(!1),o=(0,f.e)(t,n.onScrollButtonChange);return(0,t0.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),s?(0,a.jsx)(r8,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});r7.displayName=r3;var r8=i.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...s}=e,l=rz("SelectScrollButton",r),o=i.useRef(null),c=rv(r),d=i.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return i.useEffect(()=>()=>d(),[d]),(0,t0.b)(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,a.jsx)(g.WV.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:(0,m.M)(s.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:(0,m.M)(s.onPointerMove,()=>{l.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:(0,m.M)(s.onPointerLeave,()=>{d()})})}),r9=i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e;return(0,a.jsx)(g.WV.div,{"aria-hidden":!0,...i,ref:t})});r9.displayName="SelectSeparator";var ae="SelectArrow";function at(e){return""===e||void 0===e}i.forwardRef((e,t)=>{let{__scopeSelect:r,...i}=e,n=rw(r),s=rC(ae,r),l=rz(ae,r);return s.open&&"popper"===l.position?(0,a.jsx)(rn,{...n,...i,ref:t}):null}).displayName=ae;var ar=i.forwardRef((e,t)=>{let{value:r,...n}=e,s=i.useRef(null),l=(0,f.e)(t,s),o=function(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return i.useEffect(()=>{let e=s.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==r&&t){let a=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[o,r]),(0,a.jsx)(ru.T,{asChild:!0,children:(0,a.jsx)("select",{...n,ref:l,defaultValue:r})})});function aa(e){let t=(0,v.W)(e),r=i.useRef(""),a=i.useRef(0),n=i.useCallback(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),s=i.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,s]}function ai(e,t,r){var a;let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===i.length&&(n=n.filter(e=>e!==r));let s=n.find(e=>e.textValue.toLowerCase().startsWith(i.toLowerCase()));return s!==r?s:void 0}ar.displayName="BubbleSelect";var an=r(62513);let as=(0,es.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),al=(0,es.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ao=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(rI,{ref:i,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(rA,{asChild:!0,children:a.jsx(an.Z,{className:"h-4 w-4 opacity-50"})})]}));ao.displayName=rI.displayName;let ac=i.forwardRef(({className:e,...t},r)=>a.jsx(r6,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(as,{className:"h-4 w-4"})}));ac.displayName=r6.displayName;let ad=i.forwardRef(({className:e,...t},r)=>a.jsx(r7,{ref:r,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(an.Z,{className:"h-4 w-4"})}));ad.displayName=r7.displayName;let au=i.forwardRef(({className:e,children:t,position:r="popper",...i},n)=>a.jsx(rM,{children:(0,a.jsxs)(rD,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...i,children:[a.jsx(ac,{}),a.jsx(rB,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(ad,{})]})}));au.displayName=rD.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(rK,{ref:r,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=rK.displayName;let am=i.forwardRef(({className:e,children:t,...r},i)=>(0,a.jsxs)(rQ,{ref:i,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(r4,{children:a.jsx(al,{className:"h-4 w-4"})})}),a.jsx(r1,{children:t})]}));am.displayName=rQ.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(r9,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=r9.displayName;let ah=(0,es.Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function ap({currentVideo:e,onVideoChange:t,onThumbnailChange:r,label:n="Video",maxSize:l=50}){let[o,c]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),h=(0,i.useRef)(null),p=async e=>{if(e){if(!e.type.startsWith("video/")){alert("Por favor selecciona solo archivos de video (MP4, WebM, MOV)");return}if(e.size>1048576*l){alert(`El archivo es muy grande. M\xe1ximo ${l}MB`);return}c(!0);try{let a=await eC.m.uploadFile(e,"videos");t(a.url);try{let t=await f(e);if(t&&r){let a=await fetch(t),i=await a.blob(),n=new File([i],`thumbnail_${e.name.replace(/\.[^/.]+$/,"")}.jpg`,{type:"image/jpeg"});URL.revokeObjectURL(t);let s=await eC.m.uploadFile(n,"thumbnails");r(s.url)}}catch(e){}}catch(e){console.error("❌ Error subiendo video:",e),alert(`Error al subir el video: ${e instanceof Error?e.message:"Error desconocido"}`)}finally{c(!1)}}},f=e=>new Promise(t=>{let r=document.createElement("video"),a=document.createElement("canvas"),i=a.getContext("2d");r.onloadedmetadata=()=>{a.width=r.videoWidth,a.height=r.videoHeight,r.currentTime=1},r.onseeked=()=>{i&&(i.drawImage(r,0,0),a.toBlob(e=>{e?t(URL.createObjectURL(e)):t("")},"image/jpeg",.8))},r.onerror=()=>{t("")},r.src=URL.createObjectURL(e)}),x=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)};return(0,a.jsxs)("div",{className:"space-y-3",children:[n&&a.jsx(u._,{className:"text-sm font-medium",children:n}),(0,a.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg transition-colors ${d?"border-teal-500 bg-teal-50":"border-gray-300 hover:border-gray-400"} aspect-video`,onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1);let t=e.dataTransfer.files;t&&t[0]&&p(t[0])},children:[e?(0,a.jsxs)("div",{className:"relative w-full h-full",children:[a.jsx("video",{src:e,className:"w-full h-full object-cover rounded-lg",controls:!0,preload:"metadata",children:"Tu navegador no soporta la reproducci\xf3n de videos."}),a.jsx(s.z,{onClick:()=>{t(""),r&&r("")},variant:"destructive",size:"sm",className:"absolute top-2 right-2",children:a.jsx(ej.Z,{className:"w-4 h-4"})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 text-center h-full",children:[a.jsx(ah,{className:`w-8 h-8 mb-3 ${d?"text-teal-500":"text-gray-400"}`}),a.jsx("p",{className:`text-sm mb-2 ${d?"text-teal-600":"text-gray-600"}`,children:d?"Suelta el video aqu\xed":"Arrastra un video aqu\xed"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"o"}),(0,a.jsxs)(s.z,{onClick:()=>{h.current?.click()},variant:"outline",size:"sm",disabled:o,children:[a.jsx(ew,{className:"w-4 h-4 mr-2"}),o?"Subiendo...":"Seleccionar Video"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["MP4, WebM, MOV (m\xe1x. ",l,"MB)"]})]}),a.jsx("input",{ref:h,type:"file",accept:"video/mp4,video/webm,video/quicktime,video/x-msvideo",onChange:e=>{let t=e.target.files?.[0];t&&p(t)},className:"hidden"})]})]})}function af({items:e,onItemsChange:t}){let r=r=>{t([...e,{type:r,url:"",alt:"image"===r?"Nueva imagen":"Nuevo video",..."video"===r&&{thumbnail:""}}])},i=r=>{t(e.filter((e,t)=>t!==r))},n=(r,a,i)=>{t(e.map((e,t)=>t===r?{...e,[a]:i}:e))},c=(r,a)=>{t(e.map((e,t)=>{if(t===r){let t={...e,type:a,url:""};if("video"===a)return{...t,thumbnail:""};{let{thumbnail:e,...r}=t;return r}}return e}))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:["Galer\xeda Multimedia (",e.length," elementos)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(s.z,{onClick:()=>r("image"),size:"sm",variant:"outline",children:[a.jsx(eN,{className:"w-4 h-4 mr-2"}),"Agregar Imagen"]}),(0,a.jsxs)(s.z,{onClick:()=>r("video"),size:"sm",variant:"outline",children:[a.jsx(ah,{className:"w-4 h-4 mr-2"}),"Agregar Video"]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>a.jsx(l.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["image"===e.type?a.jsx(eN,{className:"w-4 h-4 text-blue-600"}):a.jsx(ah,{className:"w-4 h-4 text-purple-600"}),(0,a.jsxs)(u._,{className:"font-medium",children:["image"===e.type?"Imagen":"Video"," ",t+1]})]}),a.jsx(s.z,{onClick:()=>i(t),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(ef,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Tipo de contenido"}),(0,a.jsxs)(rR,{value:e.type,onValueChange:e=>c(t,e),children:[a.jsx(ao,{children:a.jsx(rP,{})}),(0,a.jsxs)(au,{children:[a.jsx(am,{value:"image",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(eN,{className:"w-4 h-4"}),"Imagen"]})}),a.jsx(am,{value:"video",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ah,{className:"w-4 h-4"}),"Video"]})})]})]})]}),"image"===e.type?a.jsx(ek,{currentImage:e.url,onImageChange:e=>n(t,"url",e),label:"",aspectRatio:"landscape"}):a.jsx(ap,{currentVideo:e.url,onVideoChange:e=>n(t,"url",e),onThumbnailChange:e=>n(t,"thumbnail",e),label:"",maxSize:50}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:`alt-${t}`,children:"Descripci\xf3n"}),a.jsx(o.I,{id:`alt-${t}`,value:e.alt,onChange:e=>n(t,"alt",e.target.value),placeholder:`Descripci\xf3n del ${"image"===e.type?"imagen":"video"}`})]})]})},t))}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx(ew,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No hay elementos en la galer\xeda"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(s.z,{onClick:()=>r("image"),variant:"outline",children:[a.jsx(eN,{className:"w-4 h-4 mr-2"}),"Agregar primera imagen"]}),(0,a.jsxs)(s.z,{onClick:()=>r("video"),variant:"outline",children:[a.jsx(ah,{className:"w-4 h-4 mr-2"}),"Agregar primer video"]})]})]})]})}function ax({media:e,onMediaChange:t,roomName:r}){let i=a=>{t([...e,{type:a,url:"",alt:`${r} - ${"image"===a?"Imagen":"Video"}`,..."video"===a&&{thumbnail:""}}])},n=r=>{t(e.filter((e,t)=>t!==r))},c=(r,a,i)=>{t(e.map((e,t)=>t===r?{...e,[a]:i}:e))},d=(a,i)=>{t(e.map((e,t)=>{if(t===a){let t={...e,type:i,url:"",alt:`${r} - ${"image"===i?"Imagen":"Video"}`};if("video"===i)return{...t,thumbnail:""};{let{thumbnail:e,...r}=t;return r}}return e}))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h4",{className:"text-md font-medium text-gray-700",children:["Galer\xeda de ",r," (",e.length," archivos)"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(s.z,{onClick:()=>i("image"),size:"sm",variant:"outline",children:[a.jsx(eN,{className:"w-3 h-3 mr-1"}),"Imagen"]}),(0,a.jsxs)(s.z,{onClick:()=>i("video"),size:"sm",variant:"outline",children:[a.jsx(ah,{className:"w-3 h-3 mr-1"}),"Video"]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map((e,t)=>a.jsx(l.Zb,{className:"p-3",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["image"===e.type?a.jsx(eN,{className:"w-3 h-3 text-blue-600"}):a.jsx(ah,{className:"w-3 h-3 text-purple-600"}),(0,a.jsxs)(u._,{className:"text-sm font-medium",children:["image"===e.type?"Imagen":"Video"," ",t+1]})]}),a.jsx(s.z,{onClick:()=>n(t),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 h-6 w-6 p-0",children:a.jsx(ef,{className:"w-3 h-3"})})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"text-xs",children:"Tipo"}),(0,a.jsxs)(rR,{value:e.type,onValueChange:e=>d(t,e),children:[a.jsx(ao,{className:"h-8",children:a.jsx(rP,{})}),(0,a.jsxs)(au,{children:[a.jsx(am,{value:"image",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(eN,{className:"w-3 h-3"}),"Imagen"]})}),a.jsx(am,{value:"video",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(ah,{className:"w-3 h-3"}),"Video"]})})]})]})]}),"image"===e.type?a.jsx(ek,{currentImage:e.url,onImageChange:e=>c(t,"url",e),label:"",aspectRatio:"landscape"}):a.jsx(ap,{currentVideo:e.url,onVideoChange:e=>c(t,"url",e),onThumbnailChange:e=>c(t,"thumbnail",e),label:"",maxSize:30}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:`alt-${t}`,className:"text-xs",children:"Descripci\xf3n"}),a.jsx(o.I,{id:`alt-${t}`,value:e.alt,onChange:e=>c(t,"alt",e.target.value),placeholder:`Descripci\xf3n del ${"image"===e.type?"imagen":"video"}`,className:"h-8 text-xs"})]})]})},t))}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx(ew,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"No hay archivos multimedia para esta habitaci\xf3n"}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(s.z,{onClick:()=>i("image"),variant:"outline",size:"sm",children:[a.jsx(eN,{className:"w-3 h-3 mr-1"}),"Primera imagen"]}),(0,a.jsxs)(s.z,{onClick:()=>i("video"),variant:"outline",size:"sm",children:[a.jsx(ah,{className:"w-3 h-3 mr-1"}),"Primer video"]})]})]})]})}function ag(){let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!0),[h,p]=(0,i.useState)("hero"),[f,x]=(0,i.useState)(!1),[g,v]=(0,i.useState)(""),{content:b,setContent:y,saveChanges:j,isLoading:w,error:N,isConnected:C,refreshContent:k}=(0,ev.r)(),S=async()=>{try{await (0,eb._x)(),e.push("/admin/login")}catch(e){console.error("Error al cerrar sesi\xf3n:",e),(0,eg.Am)({title:"Error",description:"No se pudo cerrar la sesi\xf3n correctamente",variant:"destructive"})}},R=async()=>{x(!0);try{let e=await j();e.success?(0,eg.Am)({title:"✅ Guardado exitoso",description:"Los cambios se han guardado correctamente."}):(0,eg.Am)({title:"❌ Error al guardar",description:e.error||"No se pudo guardar el contenido.",variant:"destructive"})}catch(e){(0,eg.Am)({title:"❌ Error",description:"Ocurri\xf3 un error inesperado al guardar.",variant:"destructive"})}finally{x(!1)}},[E,I]=(0,i.useState)(!1),T=async()=>{if(confirm("\xbfEst\xe1s seguro? Esto limpiar\xe1 TODAS las referencias a archivos de uploads inexistentes.")){I(!0);try{let e=await fetch("/api/cleanup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cleanupAll:!0})}),t=await e.json();if(t.success)t.cleaned?((0,eg.Am)({title:"\uD83E\uDDF9 Limpieza completada",description:"Se han limpiado todas las referencias a archivos inexistentes."}),await k()):(0,eg.Am)({title:"ℹ️ Sin cambios",description:"No se encontraron referencias a archivos para limpiar."});else throw Error(t.error||"Error en la limpieza")}catch(e){(0,eg.Am)({title:"❌ Error en limpieza",description:"No se pudo completar la limpieza de archivos.",variant:"destructive"})}finally{I(!1)}}},P=(e,t,r)=>{y(a=>({...a,[e]:{...a[e],[t]:r}}))},A=(e,t,r,a,i)=>{y(n=>({...n,[e]:{...n[e],[t]:n[e][t].map((e,t)=>t===r?{...e,[a]:i}:e)}}))},M=e=>{y(t=>({...t,testimonials:{...t.testimonials,reviews:t.testimonials.reviews.filter((t,r)=>r!==e)}}))},F=e=>{y(t=>({...t,rooms:{...t.rooms,rooms:t.rooms.rooms.filter((t,r)=>r!==e)}}))};return c||w?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-teal-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:c?"Verificando autenticaci\xf3n...":"Cargando contenido..."})]})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-40",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-teal-600 p-2 rounded",children:a.jsx(en.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Panel de Administraci\xf3n"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(ea.C,{variant:"secondary",className:"text-xs",children:"☁️ Firebase Storage"}),(0,a.jsxs)(ea.C,{className:"text-xs bg-green-100 text-green-800",children:[a.jsx(el,{className:"w-3 h-3 mr-1"}),"Auto-guardado activo"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsx(eo,{className:"w-4 h-4"}),a.jsx("span",{children:g})]}),(0,a.jsxs)(s.z,{onClick:k,variant:"outline",size:"sm",disabled:w,children:[a.jsx(ec,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),"Actualizar"]}),(0,a.jsxs)(s.z,{onClick:T,variant:"outline",size:"sm",disabled:E,children:[a.jsx(ed,{className:`w-4 h-4 mr-2 ${E?"animate-spin":""}`}),E?"Limpiando...":"Limpiar Uploads"]}),(0,a.jsxs)(s.z,{onClick:R,className:"bg-teal-600 hover:bg-teal-700",size:"sm",disabled:f,children:[a.jsx(eu,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),f?"Guardando...":"Guardar Ahora"]}),(0,a.jsxs)(s.z,{onClick:S,variant:"outline",size:"sm",children:[a.jsx(em,{className:"w-4 h-4 mr-2"}),"Salir"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[N&&(0,a.jsxs)(ei.bZ,{className:"mb-6 border-blue-200 bg-blue-50",children:[a.jsx(eh,{className:"h-4 w-4 text-blue-600"}),a.jsx(ei.X,{className:"text-blue-800",children:N})]}),(0,a.jsxs)(q,{value:h,onValueChange:p,className:"space-y-6",children:[(0,a.jsxs)(ee,{className:"grid w-full grid-cols-5 lg:grid-cols-9 gap-1",children:[a.jsx(et,{value:"site",className:"text-xs",children:"Sitio"}),a.jsx(et,{value:"hero",className:"text-xs",children:"Inicio"}),a.jsx(et,{value:"about",className:"text-xs",children:"Acerca"}),a.jsx(et,{value:"rooms",className:"text-xs",children:"Habitaciones"}),a.jsx(et,{value:"tour",className:"text-xs",children:"Tour"}),a.jsx(et,{value:"gallery",className:"text-xs",children:"Galer\xeda"}),a.jsx(et,{value:"services",className:"text-xs",children:"Servicios"}),a.jsx(et,{value:"testimonials",className:"text-xs",children:"Testimonios"}),a.jsx(et,{value:"contact",className:"text-xs",children:"Contacto"})]}),a.jsx(er,{value:"site",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Configuraci\xf3n del Sitio"})}),a.jsx(l.aY,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"site-title",children:"T\xedtulo del Sitio (aparece en la pesta\xf1a del navegador)"}),a.jsx(o.I,{id:"site-title",value:b.siteConfig?.title||"",onChange:e=>P("siteConfig","title",e.target.value),placeholder:"Hostal Caprilandia - Donde la tradici\xf3n y la comodidad se encuentran"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"site-description",children:"Descripci\xf3n del Sitio (para SEO)"}),a.jsx(d,{id:"site-description",value:b.siteConfig?.description||"",onChange:e=>P("siteConfig","description",e.target.value),rows:3,placeholder:"Descripci\xf3n que aparecer\xe1 en los resultados de b\xfasqueda"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx(ek,{currentImage:b.siteConfig?.logo,onImageChange:e=>P("siteConfig","logo",e),label:"Logo del Negocio - aparece en la navegaci\xf3n y footer",aspectRatio:"square",maxSize:2}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx("p",{children:"• Recomendado: 64x64 p\xedxeles o mayor"}),a.jsx("p",{children:"• Formato: PNG, JPG, o SVG"}),a.jsx("p",{children:"• Tama\xf1o m\xe1ximo: 2MB"})]})]}),(0,a.jsxs)("div",{children:[a.jsx(ek,{currentImage:b.siteConfig?.favicon,onImageChange:e=>P("siteConfig","favicon",e),label:"Icono del Sitio (Favicon) - aparece en la pesta\xf1a del navegador",aspectRatio:"square",maxSize:1}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:[a.jsx("p",{children:"• Recomendado: 32x32 p\xedxeles o 64x64 p\xedxeles"}),a.jsx("p",{children:"• Formato: PNG, ICO, o JPG"}),a.jsx("p",{children:"• Tama\xf1o m\xe1ximo: 1MB"})]})]})]})]})})]})}),a.jsx(er,{value:"hero",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Secci\xf3n Principal (Hero)"})}),a.jsx(l.aY,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"hero-title",children:"T\xedtulo Principal"}),a.jsx(o.I,{id:"hero-title",value:b.hero.title,onChange:e=>P("hero","title",e.target.value),className:"text-lg font-semibold"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"hero-subtitle",children:"Subt\xedtulo"}),a.jsx(d,{id:"hero-subtitle",value:b.hero.subtitle,onChange:e=>P("hero","subtitle",e.target.value),rows:3})]})]}),a.jsx("div",{children:a.jsx(ek,{currentImage:b.hero.backgroundImage,onImageChange:e=>P("hero","backgroundImage",e),label:"Imagen de Fondo Principal",aspectRatio:"landscape"})})]})})]})}),a.jsx(er,{value:"about",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Secci\xf3n Acerca de"})}),a.jsx(l.aY,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"about-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"about-title",value:b.about.title,onChange:e=>P("about","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"about-desc1",children:"Primer P\xe1rrafo"}),a.jsx(d,{id:"about-desc1",value:b.about.description1,onChange:e=>P("about","description1",e.target.value),rows:4})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"about-desc2",children:"Segundo P\xe1rrafo"}),a.jsx(d,{id:"about-desc2",value:b.about.description2,onChange:e=>P("about","description2",e.target.value),rows:3})]})]}),a.jsx("div",{children:a.jsx(ek,{currentImage:b.about.image,onImageChange:e=>P("about","image",e),label:"Imagen de la Secci\xf3n Acerca de",aspectRatio:"landscape"})})]})})]})}),a.jsx(er,{value:"rooms",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex justify-between items-center",children:["Secci\xf3n Habitaciones (",b.rooms.rooms.length," habitaciones)",(0,a.jsxs)(s.z,{onClick:()=>{y(e=>({...e,rooms:{...e.rooms,rooms:[...e.rooms.rooms,{name:"Nueva Habitaci\xf3n",description:"Descripci\xf3n de la habitaci\xf3n",price:"",showPrice:!1,image:"",features:["Cama doble","Ba\xf1o privado","WiFi"],popular:!1}]}}))},size:"sm",children:[a.jsx(ep,{className:"w-4 h-4 mr-2"}),"Agregar Habitaci\xf3n"]})]})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"rooms-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"rooms-title",value:b.rooms.title,onChange:e=>P("rooms","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"rooms-subtitle",children:"Subt\xedtulo"}),a.jsx(o.I,{id:"rooms-subtitle",value:b.rooms.subtitle,onChange:e=>P("rooms","subtitle",e.target.value)})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Habitaciones"}),b.rooms.rooms.map((e,t)=>(0,a.jsxs)(l.Zb,{className:"p-6 border-l-4 border-l-teal-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("h4",{className:"font-medium text-lg",children:["Habitaci\xf3n ",t+1,": ",e.name]}),a.jsx(s.z,{onClick:()=>F(t),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(ef,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Nombre"}),a.jsx(o.I,{value:e.name,onChange:e=>A("rooms","rooms",t,"name",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Descripci\xf3n"}),a.jsx(d,{value:e.description,onChange:e=>A("rooms","rooms",t,"description",e.target.value),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`show-price-${t}`,checked:e.showPrice||!1,onChange:e=>A("rooms","rooms",t,"showPrice",e.target.checked)}),a.jsx(u._,{htmlFor:`show-price-${t}`,className:"font-medium",children:"Mostrar precio para esta habitaci\xf3n"})]}),e.showPrice&&(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Precio"}),a.jsx(o.I,{value:e.price||"",onChange:e=>A("rooms","rooms",t,"price",e.target.value),placeholder:"Ej: $120/noche, Consultar, Desde $100"})]}),!e.showPrice&&a.jsx("p",{className:"text-sm text-gray-600",children:'El bot\xf3n mostrar\xe1 "Consultar Disponibilidad" en lugar de "Reservar"'})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(u._,{children:["Caracter\xedsticas (",e.features.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[e.features.map((r,i)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.I,{value:r,onChange:r=>{let a=[...e.features];a[i]=r.target.value,A("rooms","rooms",t,"features",a)},placeholder:"Caracter\xedstica"}),a.jsx(s.z,{onClick:()=>{A("rooms","rooms",t,"features",e.features.filter((e,t)=>t!==i))},variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(ef,{className:"w-4 h-4"})})]},`feature-${t}-${i}`)),(0,a.jsxs)(s.z,{onClick:()=>{A("rooms","rooms",t,"features",[...e.features,"Nueva caracter\xedstica"])},variant:"outline",size:"sm",children:[a.jsx(ep,{className:"w-4 h-4 mr-2"}),"Agregar Caracter\xedstica"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`popular-${t}`,checked:e.popular||!1,onChange:e=>A("rooms","rooms",t,"popular",e.target.checked)}),a.jsx(u._,{htmlFor:`popular-${t}`,children:"Marcar como popular"})]})]}),(0,a.jsxs)("div",{children:[a.jsx(ek,{currentImage:e.image,onImageChange:e=>A("rooms","rooms",t,"image",e),label:`Imagen principal de ${e.name}`,aspectRatio:"landscape"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Esta ser\xe1 la imagen que aparece en la vista previa de la habitaci\xf3n"})]}),a.jsx("div",{className:"mt-6",children:a.jsx(ax,{media:e.media||[],onMediaChange:e=>A("rooms","rooms",t,"media",e),roomName:e.name})})]})]},`room-${t}`))]})]})]})}),a.jsx(er,{value:"tour",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Tour Virtual"})}),a.jsx(l.aY,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"tour-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"tour-title",value:b.virtualTour.title,onChange:e=>P("virtualTour","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"tour-subtitle",children:"Subt\xedtulo"}),a.jsx(o.I,{id:"tour-subtitle",value:b.virtualTour.subtitle,onChange:e=>P("virtualTour","subtitle",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"tour-videoUrl",children:"URL del Video (YouTube Embed)"}),a.jsx(o.I,{id:"tour-videoUrl",value:b.virtualTour.videoUrl,onChange:e=>P("virtualTour","videoUrl",e.target.value),placeholder:"https://www.youtube.com/embed/your_video_id"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx(u._,{children:"Vista Previa del Video"}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden border",children:b.virtualTour.videoUrl?a.jsx("iframe",{src:b.virtualTour.videoUrl,title:"Recorrido Virtual",allowFullScreen:!0,className:"absolute inset-0 w-full h-full"}):a.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Ingresa una URL de video para ver la vista previa"})})})]})]})})]})}),a.jsx(er,{value:"gallery",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Galer\xeda de Im\xe1genes"})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"gallery-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"gallery-title",value:b.gallery.title,onChange:e=>P("gallery","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"gallery-subtitle",children:"Subt\xedtulo"}),a.jsx(o.I,{id:"gallery-subtitle",value:b.gallery.subtitle,onChange:e=>P("gallery","subtitle",e.target.value)})]})]}),a.jsx(af,{items:b.gallery.items,onItemsChange:e=>P("gallery","items",e)})]})]})}),a.jsx(er,{value:"services",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Servicios"})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"services-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"services-title",value:b.services.title,onChange:e=>P("services","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"services-subtitle",children:"Subt\xedtulo"}),a.jsx(o.I,{id:"services-subtitle",value:b.services.subtitle,onChange:e=>P("services","subtitle",e.target.value)})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b.services.services.map((e,t)=>a.jsx(l.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Servicio ",t+1]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Nombre"}),a.jsx(o.I,{value:e.name,onChange:e=>A("services","services",t,"name",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Descripci\xf3n"}),a.jsx(d,{value:e.description,onChange:e=>A("services","services",t,"description",e.target.value),rows:2})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Icono"}),a.jsx(o.I,{value:e.icon,onChange:e=>A("services","services",t,"icon",e.target.value),placeholder:"bed, wifi, utensils-crossed, etc."})]})]})},t))})]})]})}),a.jsx(er,{value:"testimonials",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex justify-between items-center",children:["Testimonios",(0,a.jsxs)(s.z,{onClick:()=>{y(e=>({...e,testimonials:{...e.testimonials,reviews:[...e.testimonials.reviews,{name:"Nuevo Usuario",rating:5,comment:"Excelente experiencia en el hostal.",initials:"NU",mapLink:"https://g.co/kgs/example"}]}}))},size:"sm",children:[a.jsx(ep,{className:"w-4 h-4 mr-2"}),"Agregar Testimonio"]})]})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"testimonials-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"testimonials-title",value:b.testimonials.title,onChange:e=>P("testimonials","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"testimonials-subtitle",children:"Subt\xedtulo"}),a.jsx(o.I,{id:"testimonials-subtitle",value:b.testimonials.subtitle,onChange:e=>P("testimonials","subtitle",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"testimonials-note",children:"Nota Importante"}),a.jsx(d,{id:"testimonials-note",value:b.testimonials.note,onChange:e=>P("testimonials","note",e.target.value),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Rese\xf1as"}),b.testimonials.reviews.map((e,t)=>(0,a.jsxs)(l.Zb,{className:"p-4 border-l-4 border-l-yellow-500",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("h4",{className:"font-medium text-lg",children:["Rese\xf1a ",t+1]}),a.jsx(s.z,{onClick:()=>M(t),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:a.jsx(ef,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Nombre"}),a.jsx(o.I,{value:e.name,onChange:e=>A("testimonials","reviews",t,"name",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Comentario"}),a.jsx(d,{value:e.comment,onChange:e=>A("testimonials","reviews",t,"comment",e.target.value),rows:3})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Calificaci\xf3n (1-5)"}),a.jsx(o.I,{type:"number",min:"1",max:"5",value:e.rating,onChange:e=>A("testimonials","reviews",t,"rating",Number.parseInt(e.target.value)||5)})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Iniciales"}),a.jsx(o.I,{value:e.initials,onChange:e=>A("testimonials","reviews",t,"initials",e.target.value),placeholder:"MG"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{children:"Enlace de Google Maps"}),a.jsx(o.I,{value:e.mapLink,onChange:e=>A("testimonials","reviews",t,"mapLink",e.target.value),placeholder:"https://g.co/kgs/..."})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Vista previa:"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"bg-teal-500 w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:e.initials}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:e.name}),a.jsx("div",{className:"flex text-yellow-400",children:[void 0,void 0,void 0,void 0,void 0].map((t,r)=>a.jsx(ex.Z,{className:`w-3 h-3 ${r<e.rating?"fill-current":"stroke-current"}`},r))})]})]})]})]})]})]},t))]})]})]})}),a.jsx(er,{value:"contact",children:(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Informaci\xf3n de Contacto"})}),(0,a.jsxs)(l.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-title",children:"T\xedtulo"}),a.jsx(o.I,{id:"contact-title",value:b.contact.title,onChange:e=>P("contact","title",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-whatsapp",children:"WhatsApp"}),a.jsx(o.I,{id:"contact-whatsapp",value:b.contact.whatsapp,onChange:e=>P("contact","whatsapp",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-description",children:"Descripci\xf3n"}),a.jsx(d,{id:"contact-description",value:b.contact.description,onChange:e=>P("contact","description",e.target.value),rows:3})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-email",children:"Email"}),a.jsx(o.I,{id:"contact-email",value:b.contact.email,onChange:e=>P("contact","email",e.target.value)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-address",children:"Direcci\xf3n"}),a.jsx(o.I,{id:"contact-address",value:b.contact.address,onChange:e=>P("contact","address",e.target.value)})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redes Sociales"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-facebook",children:"Facebook"}),a.jsx(o.I,{id:"contact-facebook",value:b.contact.socialLinks.facebook,onChange:e=>P("contact","socialLinks",{...b.contact.socialLinks,facebook:e.target.value}),placeholder:"https://facebook.com/..."})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-instagram",children:"Instagram"}),a.jsx(o.I,{id:"contact-instagram",value:b.contact.socialLinks.instagram,onChange:e=>P("contact","socialLinks",{...b.contact.socialLinks,instagram:e.target.value}),placeholder:"https://instagram.com/..."})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"contact-youtube",children:"YouTube"}),a.jsx(o.I,{id:"contact-youtube",value:b.contact.socialLinks.youtube,onChange:e=>P("contact","socialLinks",{...b.contact.socialLinks,youtube:e.target.value}),placeholder:"https://youtube.com/..."})]})]})]})]})]})})]})]})]}):null}},2502:(e,t,r)=>{"use strict";r.d(t,{X:()=>c,bZ:()=>o});var a=r(97247),i=r(28964),n=r(87972),s=r(25008);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=i.forwardRef(({className:e,variant:t,...r},i)=>a.jsx("div",{ref:i,role:"alert",className:(0,s.cn)(l({variant:t}),e),...r}));o.displayName="Alert",i.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let c=i.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},70170:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(97247),i=r(28964),n=r(25008);let s=i.forwardRef(({className:e,type:t,...r},i)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));s.displayName="Input"},44538:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var a=r(97247),i=r(28964),n=r(22251),s=i.forwardRef((e,t)=>(0,a.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var l=r(87972),o=r(25008);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef(({className:e,...t},r)=>a.jsx(s,{ref:r,className:(0,o.cn)(c(),e),...t}));d.displayName=s.displayName},51459:(e,t,r)=>{"use strict";r.d(t,{_x:()=>l,vS:()=>s});var a=r(25163),i=r(62035);let n=["admin@caprilandia.com","test@caprilandia.com"];async function s(e,t){if(!a.I8)return console.error("\uD83D\uDEAB Firebase Auth no est\xe1 disponible"),{success:!1,error:"Firebase Auth no est\xe1 disponible"};try{let r=(await (0,i.e5)(a.I8,e,t)).user;if(n.includes(e))return{success:!0,user:r};if(!(await r.getIdTokenResult()).claims.admin)throw await (0,i.w7)(a.I8),Error("No tienes permisos de administrador");return{success:!0,user:r}}catch(t){console.error("❌ Error en login:",t);let e="Error desconocido";if(t instanceof Error)switch(t.message){case"Firebase: Error (auth/user-not-found).":e="Usuario no encontrado";break;case"Firebase: Error (auth/wrong-password).":e="Contrase\xf1a incorrecta";break;case"Firebase: Error (auth/invalid-email).":e="Email inv\xe1lido";break;case"Firebase: Error (auth/network-request-failed).":e="Error de conexi\xf3n. Verifica tu internet.";break;default:e=t.message}return{success:!1,error:e}}}async function l(){if(!a.I8)return{success:!1,error:"Firebase Auth no est\xe1 disponible"};try{return await (0,i.w7)(a.I8),{success:!0}}catch(e){return console.error("❌ Error en logout:",e),{success:!1,error:e instanceof Error?e.message:"Error al cerrar sesi\xf3n"}}}},53871:(e,t,r)=>{"use strict";r.d(t,{m:()=>l});var a=r(25163),i=r(78065);let n=["image/jpeg","image/jpg","image/png","image/webp"],s=["video/mp4","video/webm","video/quicktime"];class l{static async checkStorageConnection(){if(!a.tO)return!1;try{return(0,i.iH)(a.tO,"test-connection"),!0}catch(e){return console.error("❌ Error de conexi\xf3n a Firebase Storage:",e),!1}}static validateFile(e){let t=[...n,...s];return t.includes(e.type)?e.size>52428800?{valid:!1,error:`Archivo muy grande: ${(e.size/1024/1024).toFixed(2)}MB. M\xe1ximo permitido: 50MB`}:{valid:!0}:{valid:!1,error:`Tipo de archivo no permitido: ${e.type}. Tipos permitidos: ${t.join(", ")}`}}static async uploadFile(e,t="media"){let r=this.validateFile(e);if(!r.valid)throw Error(r.error);try{return await this.uploadFileViaAPI(e,t)}catch(e){throw console.error("❌ Error en API fallback:",e),Error(`Error subiendo archivo: ${e instanceof Error?e.message:"Error desconocido"}`)}}static async uploadFileViaAPI(e,t="media"){let r=new FormData;r.append("file",e),r.append("folder",t);let a=await fetch("/api/upload",{method:"POST",body:r});if(!a.ok)throw Error(`API upload failed: ${a.statusText}`);let i=await a.json();if(!i.success)throw Error(i.error||"API upload failed");return{url:i.url,type:i.type,filename:i.filename,path:i.path}}static async deleteFile(e){if(!a.tO)throw Error("Firebase Storage no est\xe1 inicializado");let t=a.tO;try{let r=(0,i.iH)(t,e);await (0,i.oq)(r)}catch(e){throw console.error("❌ Error eliminando archivo:",e),Error(`Error eliminando archivo: ${e instanceof Error?e.message:"Error desconocido"}`)}}static async generateVideoThumbnail(e){return new Promise((t,r)=>{let a=document.createElement("video"),i=document.createElement("canvas"),n=i.getContext("2d");if(!n){r(Error("No se pudo crear contexto de canvas"));return}a.onloadedmetadata=()=>{i.width=a.videoWidth||640,i.height=a.videoHeight||360,a.currentTime=Math.min(1,.1*a.duration)},a.onseeked=()=>{n.drawImage(a,0,0,i.width,i.height),t(i.toDataURL("image/jpeg",.8)),URL.revokeObjectURL(a.src)},a.onerror=e=>{console.error("❌ Error generando thumbnail:",e),r(Error("Error generando miniatura del video"))},a.src=URL.createObjectURL(e)})}static async resizeImage(e,t=1920,r=1080){return new Promise((a,i)=>{let n=new Image,s=document.createElement("canvas"),l=s.getContext("2d");if(!l){i(Error("No se pudo crear contexto de canvas"));return}n.onload=()=>{let{width:o,height:c}=n;o>t&&(c=c*t/o,o=t),c>r&&(o=o*r/c,c=r),s.width=o,s.height=c,l.drawImage(n,0,0,o,c),s.toBlob(e=>{e?a(e):i(Error("Error convirtiendo imagen"))},e.type,.9)},n.onerror=()=>{i(Error("Error cargando imagen"))},n.src=URL.createObjectURL(e)})}}},25163:(e,t,r)=>{"use strict";let a;r.d(t,{I8:()=>o,tO:()=>c});var i=r(68132),n=r(10203),s=r(62035),l=r(78065);a=0===(0,i.C6)().length?(0,i.ZF)({apiKey:"AIzaSyAJd6zyhkkqVjuQWb6thS05UeD8-rCaCZ0",authDomain:"carilandia-base.firebaseapp.com",projectId:"carilandia-base",storageBucket:"carilandia-base.firebasestorage.app",messagingSenderId:"841945640213",appId:"1:841945640213:web:35cec3e1e3c91085db0d1c",measurementId:"G-HXPX889G7H"}):(0,i.C6)()[0];let o=null,c=null;try{(0,n.ad)(a),o=(0,s.v0)(a),c=(0,l.cF)(a)}catch(e){console.error("❌ Error inicializando Firebase:",e),o=null,c=null}},97792:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(26323).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},34178:(e,t,r)=>{"use strict";var a=r(25289);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},53411:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`P:\caprilandia-web\app\admin\dashboard\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[379,741,355,844,188,840],()=>r(92191));module.exports=a})();